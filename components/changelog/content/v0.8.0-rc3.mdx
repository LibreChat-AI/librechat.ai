## What's Changed

### 🛣️ Highlights

* 🔐 **Granular Permissions System** by [@danny-avila](https://github.com/danny-avila) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654), [#9068](https://github.com/danny-avila/LibreChat/pull/9068)
  - Complete overhaul of permission system with fine-grained access control
  - Entra ID group discovery and integration
  - ACL-based (Access Control List) resource permissions with permission bits

* 🏪 **Agent Marketplace with Advanced Sharing** by [@danny-avila](https://github.com/danny-avila) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654)
  - Agent marketplace ecosystem for discovering and sharing agents
  - Agent categorization and promotion system
  - Advanced sharing dialogs with role-based access controls
  - People picker UI for sharing with user/group/role search

### ✨ Features

* 🗨️ feat: Granular ACL-based Sharing for Prompts by [@danny-avila](https://github.com/danny-avila) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654)
* 🔒 feat: Advanced File Storage & Access Control with Agent-based Permissions by [@nagago](https://github.com/nagago) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654)
* 📁 feat: SharePoint File Picker Integration with Microsoft Graph API by [@danny-avila](https://github.com/danny-avila) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654)
* 📚 feat: Source Citations for File Search in Agents with Role-based Controls by [@nagago](https://github.com/nagago) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654)
* 🍃 feat: MongoDB Connection Pool Configuration Options by [@JordiHigueraDT](https://github.com/JordiHigueraDT) in [#8654](https://github.com/danny-avila/LibreChat/pull/8654)
* 🌐 feat: Configurable Redis Cluster Mode with Single URI Support by [@luiscga](https://github.com/luiscga) in [#9039](https://github.com/danny-avila/LibreChat/pull/9039)
* 🔎 feat: Add Prompt and Agent Permissions Migration Checks by [@danny-avila](https://github.com/danny-avila) in [#9063](https://github.com/danny-avila/LibreChat/pull/9063)
* 🔐 feat: Group schema support, refine user schema security, and improve types by [@berry-13](https://github.com/berry-13) in [#9070](https://github.com/danny-avila/LibreChat/pull/9070)
* 🧪 feat: Claude Sonnet 4 - 1M Context Window (Beta Header) by [@danny-avila](https://github.com/danny-avila) in [#9093](https://github.com/danny-avila/LibreChat/pull/9093)
* 🏷️ feat: Request Placeholders for Custom Endpoint & MCP Headers by [@danny-avila](https://github.com/danny-avila) in [#9095](https://github.com/danny-avila/LibreChat/pull/9095)
* 📬 feat: Agent Support Email Address Validation by [@dustinhealy](https://github.com/dustinhealy) in [#9128](https://github.com/danny-avila/LibreChat/pull/9128)
* 🆔 feat: Add User ID to Anthropic API Payload as Metadata by [@danny-avila](https://github.com/danny-avila) in [#9174](https://github.com/danny-avila/LibreChat/pull/9174)
* 🛣️ feat: `directEndpoint` Fetch Override for Custom Endpoints by [@danny-avila](https://github.com/danny-avila) in [#9179](https://github.com/danny-avila/LibreChat/pull/9179)
* ✨ feat: Add cursor pagination utilities for users/groups/roles by [@berry-13](https://github.com/berry-13) in [#9218](https://github.com/danny-avila/LibreChat/pull/9218)


### 🔧 Refactoring

* 📛 refactor: Decouple MCP Dialog UI from `BadgeRowContext` by [@ruggishop](https://github.com/ruggishop) in [#8920](https://github.com/danny-avila/LibreChat/pull/8920)
* ♻️ refactor: MCP Scalability, Fix App-Level Detection, Add Lazy Connections by [@nhtruong](https://github.com/nhtruong) in [#8930](https://github.com/danny-avila/LibreChat/pull/8930)
* 🪙 refactor: Remove Title `maxTokens` & Support LMStudio/Ollama Reasoning by [@danny-avila](https://github.com/danny-avila) in [#9085](https://github.com/danny-avila/LibreChat/pull/9085)
* 🧑‍💻 refactor: Secure Field Selection for 2FA & API Build Sourcemap by [@danny-avila](https://github.com/danny-avila) in [#9087](https://github.com/danny-avila/LibreChat/pull/9087)
* ⚙️ refactor: Only register OpenID Strategy if Config Succeeded by [@danny-avila](https://github.com/danny-avila) in [#9094](https://github.com/danny-avila/LibreChat/pull/9094)
* 🏷️ refactor: Normalize Request Headers in `setRequestHeaders` by [@danny-avila](https://github.com/danny-avila) in [#9106](https://github.com/danny-avila/LibreChat/pull/9106)
* 🛠️ refactor: Consolidate MCP Tool Caching by [@danny-avila](https://github.com/danny-avila) in [#9172](https://github.com/danny-avila/LibreChat/pull/9172)
* 🏄‍♂️ refactor: Improve Cancelled Stream Handling for Pending Authentication by [@danny-avila](https://github.com/danny-avila) in [#9235](https://github.com/danny-avila/LibreChat/pull/9235)
* 🗄️ refactor: Resource Migration Scripts for DocumentDB Compatibility by [@danny-avila](https://github.com/danny-avila) in [#9249](https://github.com/danny-avila/LibreChat/pull/9249)


### ⚙️ Other Changes

* 🐋 ci: Optimize Dockerfile Caching by [@faustoFF](https://github.com/faustoFF) in [#8480](https://github.com/danny-avila/LibreChat/pull/8480)
* 🔗 chore: Remove `<link href='#' />` from `index.html` by [@mattmueller-stripe](https://github.com/mattmueller-stripe) in [#9222](https://github.com/danny-avila/LibreChat/pull/9222)
* 🎭 refactor: Avatar Loading UX and Fix Initials Rendering Bugs by [@berry-13](https://github.com/berry-13) in [#9261](https://github.com/danny-avila/LibreChat/pull/9261)
* 📜 chore: Add Timestamp to Error logs by [@danny-avila](https://github.com/danny-avila) in [#9262](https://github.com/danny-avila/LibreChat/pull/9262)
* 🏷️ chore: Add Missing Localizations for Agents, Categories, Bookmarks by [@danny-avila](https://github.com/danny-avila) in [#9266](https://github.com/danny-avila/LibreChat/pull/9266)

### 🐛 Bug Fixes

* 🐞 fix: Prevent Type Error in Successful Bookmark Deletion by [@usnavy13](https://github.com/usnavy13) in [#9014](https://github.com/danny-avila/LibreChat/pull/9014)
* 🔧 fix: Redis cluster connection errors and configuration by [@nhtruong](https://github.com/nhtruong) in [#9016](https://github.com/danny-avila/LibreChat/pull/9016)
* 🚌 fix: MCP Runtime Errors while Initializing by [@danny-avila](https://github.com/danny-avila) in [#9046](https://github.com/danny-avila/LibreChat/pull/9046)
* 🐞 fix: Update MCP server initialization to skip non-startup and oauth servers by [@nhtruong](https://github.com/nhtruong) in [#9049](https://github.com/danny-avila/LibreChat/pull/9049)
* 🛠️ fix: Workaround for Federated OpenID Nonce Validation Issues by [@busla](https://github.com/busla) in [#9067](https://github.com/danny-avila/LibreChat/pull/9067)
* 🔄 fix: `lastRefill` Date for Existing Users & Refactor Balance Middleware by [@danny-avila](https://github.com/danny-avila) in [#9086](https://github.com/danny-avila/LibreChat/pull/9086)
* 🔄 fix: Add Azure to Recognized and Content array providers for MCP Tool Calls by [@danny-avila](https://github.com/danny-avila) in [#9092](https://github.com/danny-avila/LibreChat/pull/9092)
* 🛡️ fix: Add Null Checks to Parameter Settings to Prevent Undefined Access by [@thelinuxkid](https://github.com/thelinuxkid) in [#9108](https://github.com/danny-avila/LibreChat/pull/9108)
* 🐛 fix: Correct Next Refill Date Logic for Balance Settings by [@Isydmr](https://github.com/Isydmr) in [#9121](https://github.com/danny-avila/LibreChat/pull/9121)
* 🐍 fix: Use Standard Mongoose Module Resolution in Config Scripts by [@derhelge](https://github.com/derhelge) in [#9143](https://github.com/danny-avila/LibreChat/pull/9143)
* 🚮 fix: Remove Filtering Logic Before MCP Initialization by [@danny-avila](https://github.com/danny-avila) in [#9149](https://github.com/danny-avila/LibreChat/pull/9149)
* 🛠️ fix: Restrict Editable Content Types & Consolidate Typing by [@danny-avila](https://github.com/danny-avila) in [#9173](https://github.com/danny-avila/LibreChat/pull/9173)
* ⛔ fix: `AbortSignal` Cleanup Logic for New Chats by [@danny-avila](https://github.com/danny-avila) in [#9177](https://github.com/danny-avila/LibreChat/pull/9177)
* 🧰 fix: Available Tools Retrieval with correct MCP Caching by [@danny-avila](https://github.com/danny-avila) in [#9181](https://github.com/danny-avila/LibreChat/pull/9181)
* 🪪 fix: Preserve Existing Interface Permissions When Updating Config by [@danny-avila](https://github.com/danny-avila) in [#9199](https://github.com/danny-avila/LibreChat/pull/9199)
* 🧮 fix: Properly Escape Currency and Prevent Code Block LaTeX Bugs by [@danny-avila](https://github.com/danny-avila) in [#9248](https://github.com/danny-avila/LibreChat/pull/9248)


### 🌍 Internationalization

* 🌍 i18n: Translation updates including automated translation.json updates and addition of Bosnian and Norsk Bokmål languages in [#9020](https://github.com/danny-avila/LibreChat/pull/9020), [#9104](https://github.com/danny-avila/LibreChat/pull/9104), [#9151](https://github.com/danny-avila/LibreChat/pull/9151), [#9176](https://github.com/danny-avila/LibreChat/pull/9176), [#9228](https://github.com/danny-avila/LibreChat/pull/9228), [#9250](https://github.com/danny-avila/LibreChat/pull/9250), [#9267](https://github.com/danny-avila/LibreChat/pull/9267)


## New Contributors
* [@faustoFF](https://github.com/faustoFF) made their first contribution in [#8480](https://github.com/danny-avila/LibreChat/pull/8480)
* [@busla](https://github.com/busla) made their first contribution in [#9067](https://github.com/danny-avila/LibreChat/pull/9067)
* [@luiscga](https://github.com/luiscga) made their first contribution in [#9039](https://github.com/danny-avila/LibreChat/pull/9039)
* [@ruggishop](https://github.com/ruggishop) made their first contribution in [#8920](https://github.com/danny-avila/LibreChat/pull/8920)
* [@Isydmr](https://github.com/Isydmr) made their first contribution in [#9121](https://github.com/danny-avila/LibreChat/pull/9121)
* [@mattmueller-stripe](https://github.com/mattmueller-stripe) made their first contribution in [#9222](https://github.com/danny-avila/LibreChat/pull/9222)

**Full Changelog**: https://github.com/danny-avila/LibreChat/compare/v0.8.0-rc2...v0.8.0-rc3