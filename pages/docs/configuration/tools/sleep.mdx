---
title: ⏱️ Sleep
description: Configure the Sleep tool for LibreChat
---

# Sleep Tool Configuration

The Sleep tool allows agents to delay execution for a specified period. This is useful when you want an agent to check on something after a delay, wait before performing an action, or schedule deferred tasks.

## Prerequisites

None - this tool requires no external API keys or services.

## Configuration

### No Environment Variables Required

The Sleep tool works out of the box without any configuration.

### Adding to Agents

Add the `sleep` plugin to any [agent](https://www.librechat.ai/docs/features/agents) to enable delayed execution capabilities.

## Usage

The Sleep tool supports flexible time specifications with the following units:
- `seconds`
- `minutes`
- `hours`

### Example Prompts

```
Sleep for 30 seconds
Wait 2 minutes before continuing
Delay for 5 seconds then check the status
```

### Parameters

- `duration`: The duration to sleep (must be a positive number)
- `unit`: The time unit - one of: `"seconds"`, `"minutes"`, or `"hours"`

### Example Tool Calls

```json
{
  "duration": 30,
  "unit": "seconds"
}
```

```json
{
  "duration": 2,
  "unit": "minutes"
}
```

## Important: Timeout Configuration

### Default Timeout Limits

By default, LibreChat has a **3-minute (180 seconds) timeout** for agent and assistant operations. This means:

- ✅ Sleep durations **under 3 minutes** work without any configuration changes
- ⚠️ Sleep durations **over 3 minutes** will fail unless you increase the timeout

### Increasing Timeout for Longer Sleeps

To use sleep durations longer than 3 minutes, you need to configure the `timeoutMs` setting in your `librechat.yaml` file.

#### For Assistants

```yaml filename="librechat.yaml"
endpoints:
  assistants:
    timeoutMs: 600000  # 10 minutes (600,000 ms)
```

#### For Agents

```yaml filename="librechat.yaml"
endpoints:
  agents:
    timeoutMs: 600000  # 10 minutes (600,000 ms)
```

See the [Assistants Endpoint Configuration](/docs/configuration/librechat_yaml/object_structure/assistants_endpoint#timeoutms) for more details on timeout configuration.

## Limits

- **Maximum sleep duration**: 10 minutes (600 seconds)
- **Recommended**: Keep sleeps under 3 minutes unless you've configured higher timeouts
- **Default system timeout**: 3 minutes (180 seconds)

## Common Use Cases

1. **Polling/Status Checking**: Wait before checking if a background process has completed
2. **Rate Limiting**: Delay between API calls to avoid rate limits
3. **Scheduled Tasks**: Wait a specific time before performing an action
4. **Testing**: Simulate time-based scenarios in workflows

## Troubleshooting

### "Operation timed out" Error

**Cause**: Sleep duration exceeded the configured timeout

**Solution**: Either:
1. Reduce the sleep duration to under 3 minutes, or
2. Increase the `timeoutMs` in your `librechat.yaml` configuration

### Sleep Doesn't Complete

**Cause**: The agent run was cancelled or interrupted

**Solution**: Check your logs for any errors or interruptions during the sleep period

## Example Workflow

```
User: "Check if the deployment is complete, and if not, wait 2 minutes and check again"

Agent:
1. Calls deployment status API
2. If not complete, calls sleep tool with { duration: 2, unit: "minutes" }
3. After sleep completes, checks status again
4. Reports result to user
```

## Notes

- The tool returns a simple confirmation message when sleep completes: `"Slept for X unit."`
- Sleep operations are logged with unique grep codes for monitoring:
  - `[SLEEP-START]` - Sleep operation begins
  - `[SLEEP-COMPLETE]` - Sleep operation completes
  - `[SLEEP-EXCEED-MAX]` - Duration exceeds 10-minute maximum
  - `[SLEEP-EXCEED-DEFAULT]` - Duration exceeds default 3-minute timeout (warning)
- The tool will warn in logs if your sleep duration exceeds the default timeout, but will still attempt to complete if you've configured a higher timeout

## Support

For issues with the plugin:
- Open an issue at https://github.com/jmaddington/LibreChat/issues or
- Check the [LibreChat Issues](https://github.com/danny-avila/LibreChat/issues)
