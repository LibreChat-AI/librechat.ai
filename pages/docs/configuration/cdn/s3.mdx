---
title: Amazon S3 CDN
description: This document provides instructions for setting up Amazon S3 as a CDN for LibreChat.
---


# Amazon S3 CDN Setup

Amazon S3 is a scalable, secure object storage service that can be used as a CDN for your static assets (such as images, CSS, and JavaScript) in LibreChat. Follow these steps to configure your S3 bucket.

## 1. Create an AWS Account and Configure an IAM User

1. **Sign in to AWS:**
- Open the [AWS Management Console](https://aws.amazon.com/console/) and sign in with your account.

2. **Create or Use an Existing IAM User:**
- Navigate to the **IAM (Identity and Access Management)** section.
- Create a new IAM user with **Programmatic Access** or select an existing one.
- Attach an appropriate policy (for example, `AmazonS3FullAccess` or a custom policy with limited S3 permissions).
- After creating the user, you will receive an **AWS_ACCESS_KEY_ID** and **AWS_SECRET_ACCESS_KEY**. Store these securely.

## 2. Create an S3 Bucket

1. **Open the S3 Console:**
- Go to the [Amazon S3 console](https://s3.console.aws.amazon.com/s3/).

2. **Create a New Bucket:**
- Click **"Create bucket"**.
- **Bucket Name:** Enter a unique name (e.g., `mylibrechatbucket`).
- **Region:** Select the AWS region closest to your users (for example, `us-east-1` or `eu-west-1`).
- **Configure Options:** Set other options as needed, then click **"Create bucket"**.

## 3. Update Your Environment Variables

Create or update your `.env` file in your project’s root directory with the following configuration:

```bash filename=".env"
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key
AWS_REGION=your_selected_region
AWS_BUCKET_NAME=your_bucket_name
```

- **AWS_ACCESS_KEY_ID:** Your IAM user's access key.
- **AWS_SECRET_ACCESS_KEY:** Your IAM user's secret key.
- **AWS_REGION:** The AWS region where your S3 bucket is located.
- **AWS_BUCKET_NAME:** The name of the S3 bucket you created.

## 4. Configure LibreChat to Use Amazon S3

Update your LibreChat configuration file (`librechat.yaml`) to specify that the application should use Amazon S3 for file handling:

```yaml filename="librechat.yaml"
version: 1.0.8
cache: true
fileStrategy: "s3"
```

This setting tells LibreChat to use the S3 implementation provided in your code.


## Summary

1. **Create an AWS Account & IAM User:**
Sign in to AWS, create (or use an existing) IAM user with programmatic access, and obtain your access keys.

2. **Create an S3 Bucket:**
Use the Amazon S3 console to create a bucket, choosing a unique name and region.

3. **Update Environment Variables:**
In your `.env` file, set:
- `AWS_ACCESS_KEY_ID` with your access key ID.
- `AWS_SECRET_ACCESS_KEY` with your secret access key.
- `AWS_REGION` with your bucket’s region.
- `AWS_BUCKET_NAME` with your S3 bucket name.

4. **Configure LibreChat:**
Set `fileStrategy` to `"s3"` in your `librechat.yaml` configuration file.

With these steps, your LibreChat application will use Amazon S3 to handle file uploads, downloads, and deletions, leveraging S3 as your CDN for static assets.

---

<Callout type="info" title="Note">
  Always ensure your AWS credentials remain secure. Do not commit them to a public repository. Adjust IAM policies to follow the principle of least privilege as needed.
</Callout>